<% if answer[:dependency].nil? && @questions[index + 1] != nil %>
<% # the above will execute for any question hashes that have a nil value %>
  <%= question[:id] %>{"<%= question[:label] %>"} --> |"<%= key %>"| <%= @questions[index + 1][:id] %>["<%= @questions[index + 1][:label] %>"]
<% elsif !answer[:dependency].nil? %>
    <% # recursion should only trigger for 25 cases (in legal) %>
  <%= render partial: "dependency.txt", locals: { question: question, index: index, key: key, answer: answer } %>

<% else %>
  <%= question[:id] %>{"<%= question[:label] %>"} --> |"<%= key %>"| finalSection["End"]
<% end %>
